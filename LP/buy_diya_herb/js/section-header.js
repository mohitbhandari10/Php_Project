if(typeof MainHeader!="function"){class MainHeader2 extends HTMLElement{constructor(){super(),this.mount()}mount(){if(document.querySelectorAll("#main > div").forEach(elm=>{elm.classList.contains("inert-inside")||elm.setAttribute("data-js-inert","")}),window.inertElems=document.querySelectorAll("[data-js-inert]"),this.hasAttribute("data-sticky-header")){const stickyHeader=document.createElement("div");stickyHeader.classList="sticky-header",stickyHeader.innerHTML=`<div class="header__bottom header-container container--large portable-hide">
					${this.querySelector(".header__bottom").innerHTML}
				</div>
				<div class="site-header header__top container--large">
					${this.querySelector(".header__top").innerHTML}
				</div>`,document.body.append(stickyHeader),stickyHeader.querySelectorAll("[id]").forEach(elm=>{elm.id=`${elm.id}-sticky`}),window.lst=window.scrollY,window.lhp=0;const stickyHeaderDeskBound=this.querySelector(".header__bottom"),stickyHeaderMobileBound=this.querySelector(".header__top");this.SCROLL_StickyHelper=()=>{var st=window.scrollY;if((st<=0||(window.innerWidth>=1024?stickyHeaderDeskBound.getBoundingClientRect().top>=0:stickyHeaderMobileBound.getBoundingClientRect().top>=0))&&stickyHeader.classList.contains("show")){stickyHeader.classList.remove("show");return}st<0||Math.abs(lst-st)<=5||(st>window.lhp&&(st==0&&stickyHeader.classList.contains("show")?stickyHeader.classList.remove("show"):st<=lst&&!stickyHeader.classList.contains("show")?(window.lhp=stickyHeader.offsetTop,(window.innerWidth>=1024?stickyHeaderDeskBound.getBoundingClientRect().top:stickyHeaderMobileBound.getBoundingClientRect().top)<-100&&stickyHeader.classList.add("show")):st>lst&&stickyHeader.classList.contains("show")&&stickyHeader.classList.remove("show")),window.lst=st)},window.addEventListener("scroll",this.SCROLL_StickyHelper,{passive:!0}),stickyHeader.querySelectorAll(".submenu-masonry").forEach(elm=>{if(Macy){const submenuMacy=new Macy({container:elm,columns:elm.classList.contains("with-promotion")?3:4});setTimeout(()=>{submenuMacy.reInit()},100)}})}document.querySelectorAll("[data-js-sidebar-handle]").forEach(elm=>{if(elm.hasAttribute("aria-controls")){const elmSidebar=document.getElementById(elm.getAttribute("aria-controls"));elm.addEventListener("click",e=>{e.preventDefault(),elm.setAttribute("aria-expanded","true"),elmSidebar.show()}),elm.addEventListener("keyup",e=>{e.keyCode==window.KEYCODES.RETURN&&(elm.setAttribute("aria-expanded","true"),elmSidebar.show(),elmSidebar.querySelector("[data-js-close]").focus())})}}),document.querySelectorAll("sidebar-drawer [data-js-close]").forEach(elm=>{elm.addEventListener("click",e=>{e.preventDefault(),e.target.closest(".sidebar").classList.contains("sidebar--opened")&&e.target.closest(".sidebar").hide()})}),document.querySelector(".site-overlay").addEventListener("click",()=>{document.querySelector(".sidebar--opened")&&document.querySelector(".sidebar--opened").hide()}),document.addEventListener("keydown",e=>{e.keyCode==window.KEYCODES.ESC&&document.querySelector(".sidebar--opened")&&document.querySelector(".sidebar--opened").hide()});const rootHeight=document.getElementById("root-height");this.RESIZE_SidebarHelper=debounce(()=>{rootHeight.innerHTML=`:root {
					--window-height: ${window.innerHeight}px;
				}`},200),window.addEventListener("resize",this.RESIZE_SidebarHelper),rootHeight.innerHTML=`:root {
				--window-height: ${window.innerHeight}px;
			}`,document.querySelectorAll('[aria-controls="modal-store-selector"]').forEach(elm=>{elm.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".sidebar--opened")&&document.querySelector(".sidebar--opened").hide(),document.getElementById(elm.getAttribute("aria-controls"))&&document.getElementById(elm.getAttribute("aria-controls")).show()}),elm.addEventListener("keyup",e=>{e.keyCode==window.KEYCODES.RETURN&&(document.querySelector(".sidebar--opened")&&document.querySelector(".sidebar--opened").hide(),document.getElementById(elm.getAttribute("aria-controls"))&&document.getElementById(elm.getAttribute("aria-controls")).show())})});const rtl=document.documentElement.getAttribute("dir")=="rtl";document.querySelectorAll(".site-nav.style--classic .has-submenu").forEach(elm=>{elm.addEventListener("mouseover",()=>{elm.querySelector(".normal-menu")&&(elm.querySelector(".normal-menu").style.left=`${rtl?elm.getBoundingClientRect().right:elm.getBoundingClientRect().left}px`)})}),JSON.parse(document.getElementById("shopify-features").text).predictiveSearch?(document.querySelectorAll("search-form [data-js-search-input]").forEach(elm=>{elm.addEventListener("focus",()=>{if(document.getElementById(elm.dataset.jsFocusOverlay).classList.add("active"),!document.body.classList.contains("predictive-script-loaded")){document.body.classList.add("predictive-script-loaded");const predictiveSearchJS=document.createElement("script");predictiveSearchJS.src=KROWN.settings.predictive_search_script,document.head.appendChild(predictiveSearchJS)}}),elm.addEventListener("keydown",e=>{e.keyCode==window.KEYCODES.TAB&&document.getElementById("search-results-overlay-desktop").classList.contains("active")&&document.getElementById("search-results-overlay-desktop").classList.remove("active")})}),window.addEventListener("load",()=>{document.querySelectorAll(".search-results-overlay").forEach(elm=>{elm.style=""})})):document.querySelector("search-form [data-js-search-input] + button").classList.add("button--invisibile-trigger");const closeTouchSubmenus=(focusedElm,focusedParent=null)=>{document.querySelectorAll(".style--classic li.focus").forEach(elm=>{elm===focusedElm||elm===focusedParent||elm.classList.remove("focus")})};let babyMenuTouch=!1;document.querySelectorAll(".style--classic .has-babymenu").forEach(elm=>{elm.addEventListener("touchstart",e=>{elm.firstElementChild.style.pointerEvents="none",elm.classList.toggle("focus"),babyMenuTouch=!0,closeTouchSubmenus(elm,elm.closest(".has-submenu"))})}),document.querySelectorAll(".style--classic .has-submenu").forEach(elm=>{elm.classList.contains("mega-link")||elm.addEventListener("touchstart",e=>{elm.firstElementChild.style.pointerEvents="none",babyMenuTouch||(elm.classList.toggle("focus"),closeTouchSubmenus(elm)),babyMenuTouch=!1})}),document.querySelectorAll(".site-nav.style--classic .has-submenu > a").forEach(childEl=>{const elm=childEl.parentNode;elm.addEventListener("keydown",e=>{e.keyCode==window.KEYCODES.RETURN&&(e.target.classList.contains("no-focus-link")||e.preventDefault(),elm.classList.contains("focus")?document.activeElement.parentNode.classList.contains("has-submenu")&&elm.classList.contains("focus")&&(elm.classList.remove("focus"),elm.setAttribute("aria-expanded","true")):(elm.classList.add("focus"),elm.setAttribute("aria-expanded","true")))}),elm.querySelector(".submenu-holder > li:last-child a")&&elm.querySelector(".submenu-holder > li:last-child a").addEventListener("focusout",e=>{elm.classList.contains("focus")&&(elm.classList.remove("focus"),elm.setAttribute("aria-expanded","false"))})}),document.querySelectorAll(".site-nav.style--classic .has-babymenu:not(.mega-link) > a").forEach(childEl=>{const elm=childEl.parentNode;elm.addEventListener("keydown",e=>{e.keyCode==window.KEYCODES.RETURN&&(e.target.classList.contains("no-focus-link")||e.preventDefault(),elm.classList.contains("focus")?(elm.classList.remove("focus"),elm.setAttribute("aria-expanded","false")):(elm.classList.add("focus"),elm.setAttribute("aria-expanded","true")))}),elm.querySelector(".babymenu li:last-child a")&&elm.querySelector(".babymenu li:last-child a").addEventListener("focusout",e=>{elm.parentNode.classList.contains("focus")&&(elm.parentNode.classList.remove("focus"),elm.parentNode.setAttribute("aria-expanded","false"))})})}unmount(){window.removeEventListener("resize",this.RESIZE_SidebarHelper)}}typeof customElements.get("main-header")>"u"&&customElements.define("main-header",MainHeader2)}if(typeof SidebarDrawer!="function"){class SidebarDrawer2 extends HTMLElement{constructor(){super(),this.querySelector("[data-js-close]").addEventListener("click",()=>{this.hide()}),document.addEventListener("keydown",e=>{if(e.keyCode==window.KEYCODES.ESC){const openedSidebar=document.querySelector("sidebar-drawer.sidebar--opened");openedSidebar&&openedSidebar.hide()}})}show(){this.opened=!0,document.body.classList.add("sidebar-opened"),this.classList.contains("sidebar--right")?document.body.classList.add("sidebar-opened--right"):this.classList.contains("sidebar--left")&&document.body.classList.add("sidebar-opened--left"),this.style.display="grid",setTimeout(()=>{this.classList.add("sidebar--opened"),window.inertElems.forEach(elm=>{elm.setAttribute("inert","")})},15),this.id=="site-cart-sidebar"&&document.querySelector("#cart-recommendations css-slider")&&document.querySelector("#cart-recommendations css-slider").resetSlider()}hide(){this.opened=!1,this.classList.remove("sidebar--opened"),document.body.classList.remove("sidebar-opened"),document.body.classList.remove("sidebar-opened--left"),document.body.classList.remove("sidebar-opened--right"),window.inertElems.forEach(elm=>{elm.removeAttribute("inert")}),document.querySelector(`[aria-controls="${this.id}"]`).setAttribute("aria-expanded","false"),setTimeout(()=>{this.style.display="none"},501)}}typeof customElements.get("sidebar-drawer")>"u"&&customElements.define("sidebar-drawer",SidebarDrawer2)}if(typeof MobileNavigation!="function"){class MobileNavigation2 extends HTMLElement{constructor(){if(super(),this._openedFirstSubmenu=!1,this._openedSecondSubmenu=!1,this.querySelectorAll(".has-submenu > a").forEach(elm=>{elm.addEventListener("click",e=>{e.preventDefault(),this._openedFirstSubmenu||(this._openedFirstSubmenu=!0,this.classList.add("opened-first-submenu"),this.closest("sidebar-drawer").scrollTo({top:0})),e.target.closest("li").classList.add("opened"),this._resizeContainer()})}),this.querySelectorAll(".has-babymenu > a").forEach(elm=>{elm.addEventListener("click",e=>{e.preventDefault(),this._openedSecondSubmenu||(this._openedSecondSubmenu=!0,this.classList.add("opened-second-submenu"),this.closest("sidebar-drawer").scrollTo({top:0})),e.target.closest("li").classList.add("opened"),this._resizeContainer()})}),this.querySelectorAll(".submenu-back a").forEach(elm=>{elm.addEventListener("click",e=>{this._openedSecondSubmenu?(this._openedSecondSubmenu=!1,this.classList.remove("opened-second-submenu"),this._resizeContainer()):this._openedFirstSubmenu&&(this._openedFirstSubmenu=!1,this.classList.remove("opened-first-submenu"),this._resizeContainer(!0)),this.closest("sidebar-drawer").scrollTo({top:0}),setTimeout(()=>{e.target.closest("li.opened").classList.remove("opened")},301),e.preventDefault()})}),this.dataset.showHeaderActions=="true"){const mobileNavActions=document.createElement("div");mobileNavActions.classList="header-actions flex-buttons",mobileNavActions.innerHTML=document.querySelector("[data-js-header-actions]").innerHTML,this.querySelector("nav").prepend(mobileNavActions),mobileNavActions.querySelectorAll("[id]").forEach(elm=>{elm.id=`${elm.id}-mobile`}),mobileNavActions.querySelectorAll("[data-modal]").forEach(elm=>{elm.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".sidebar--opened")&&document.querySelector(".sidebar--opened").hide(),document.getElementById(elm.getAttribute("aria-controls"))&&document.getElementById(elm.getAttribute("aria-controls")).show()})})}}_resizeContainer(main=!1){main?this.style.height="auto":this._openedSecondSubmenu?this.style.height=`${this.querySelector(".has-babymenu.opened .babymenu").scrollHeight}px`:this._openedFirstSubmenu&&(this.style.height=`${this.querySelector(".has-submenu.opened .submenu").scrollHeight}px`)}}typeof customElements.get("mobile-navigation")>"u"&&customElements.define("mobile-navigation",MobileNavigation2)}if(typeof ScrollableNavigation!="function"){class ScrollableNavigation2 extends HTMLElement{constructor(){super(),this.linkList=this.querySelector(".link-list"),this.header=this.parentNode,window.addEventListener("resize",debounce(()=>{this.checkNav()},200)),this.checkNav();const rtl=document.documentElement.getAttribute("dir")=="rtl";this.parentNode.querySelector(".scrollable-navigation-button--left").addEventListener("click",()=>{this.scroll({top:0,left:this.scrollLeft-(rtl?-100:100),behavior:"smooth"})}),this.parentNode.querySelector(".scrollable-navigation-button--right").addEventListener("click",()=>{this.scroll({top:0,left:this.scrollLeft+(rtl?-100:100),behavior:"smooth"})})}checkNav(){this.linkList.scrollWidth>this.offsetWidth?this.header.classList.add("scrolling-navigation-enabled"):this.header.classList.remove("scrolling-navigation-enabled")}}typeof customElements.get("scrollable-navigation")>"u"&&customElements.define("scrollable-navigation",ScrollableNavigation2)}
//# sourceMappingURL=/cdn/shop/t/39/assets/section-header.js.map?v=45178267922222769461744286310
